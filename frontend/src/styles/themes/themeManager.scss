// 主题管理器
@import './variables.scss';

// 主题切换功能
$themes: ('default', 'dark', 'blue', 'purple');

// 生成主题类
@each $theme in $themes {
  .theme-#{$theme} {
    --background-primary: #{get-theme-color(background-primary, $theme)};
    --background-secondary: #{get-theme-color(background-secondary, $theme)};
    --background-tertiary: #{get-theme-color(background-tertiary, $theme)};
    --background-message-area: #{get-theme-color(background-message-area, $theme)};
    --background-message-self: #{get-theme-color(background-message-self, $theme)};
    --background-message-other: #{get-theme-color(background-message-other, $theme)};
    --user-back-color: #{get-theme-color(user-back-color, $theme)};
    --user-list-back-color: #{get-theme-color(user-list-back-color, $theme)};
    
    --text-primary: #{get-theme-color(text-primary, $theme)};
    --text-secondary: #{get-theme-color(text-secondary, $theme)};
    --text-tertiary: #{get-theme-color(text-tertiary, $theme)};
    --text-muted: #{get-theme-color(text-muted, $theme)};
    
    --border-color: #{get-theme-color(border-color, $theme)};
    
    --shadow-light: #{get-theme-color(shadow-light, $theme)};
    --shadow-medium: #{get-theme-color(shadow-medium, $theme)};
    
    --accent-primary: #{get-theme-color(accent-primary, $theme)};
    --accent-hover: #{get-theme-color(accent-hover, $theme)};
    --accent-disabled: #{get-theme-color(accent-disabled, $theme)};
    
    --status-success: #{get-theme-color(status-success, $theme)};
    --status-error: #{get-theme-color(status-error, $theme)};
    --status-info: #{get-theme-color(status-info, $theme)};
  }
}

// 创建一个应用主题的混合器
@mixin theme-apply {
  background-color: var(--background-primary);
  color: var(--text-primary);
  border-color: var(--border-color);
  
  // 子元素主题应用
  .chat-container {
    background-color: var(--background-primary);
  }
  
  .user-list-container {
    background-color: var(--background-secondary);
    border-right-color: var(--border-color);
  }
  
  .message-area {
    background-color: var(--background-message-area);
  }
  
  .chat-header {
    background-color: var(--background-secondary);
    border-bottom-color: var(--border-color);
  }
  
  .chat-header h2 {
    color: var(--text-primary);
  }
  
  .chat-input-area {
    background-color: var(--background-secondary);
    border-top-color: var(--border-color);
  }
  
  .munu {
    background-color: var(--background-secondary);
    border-right-color: var(--border-color);
    box-shadow: var(--shadow-light);
  }
  
  .munu li {
    color: var(--text-primary);
  }
  
  .munu li:hover {
    background-color: var(--background-tertiary);
    color: var(--accent-primary);
  }
  
  .munu li.active {
    background-color: var(--background-tertiary);
    color: var(--accent-primary);
    border-left-color: var(--accent-primary);
  }
  
  .username-input-container {
    background-color: var(--background-primary);
  }
  
  .username-input-container h2 {
    color: var(--text-primary);
  }
  
  .el-input {
    --el-input-bg-color: var(--background-secondary);
    --el-input-text-color: var(--text-primary);
    --el-input-placeholder-color: var(--text-muted);
    --el-input-border-color: var(--border-color);
    --el-input-focus-border-color: var(--accent-primary);
  }
  
  .el-button {
    --el-button-text-color: var(--text-primary);
    --el-button-border-color: var(--border-color);
    --el-button-bg-color: var(--background-secondary);
    --el-button-hover-text-color: var(--text-primary);
    --el-button-hover-border-color: var(--accent-primary);
    --el-button-hover-bg-color: var(--background-tertiary);
    --el-button-active-border-color: var(--accent-hover);
    --el-button-active-bg-color: var(--background-tertiary);
  }
  
  .el-button--primary {
    --el-button-text-color: #fff;
    --el-button-border-color: var(--accent-primary);
    --el-button-bg-color: var(--accent-primary);
    --el-button-hover-text-color: #fff;
    --el-button-hover-border-color: var(--accent-hover);
    --el-button-hover-bg-color: var(--accent-hover);
    --el-button-active-border-color: var(--accent-hover);
    --el-button-active-bg-color: var(--accent-hover);
  }
  
  .el-button--link {
    --el-button-text-color: var(--accent-primary);
    --el-button-hover-text-color: var(--accent-hover);
    --el-button-active-text-color: var(--accent-hover);
  }
}